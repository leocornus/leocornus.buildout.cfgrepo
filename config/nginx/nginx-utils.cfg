###################################################################
#
# some utilities for Nginx web server configurartion
#
###################################################################

########
# this part will generate the htpasswd file to serve the 
# auth_basic authentication.
# 
# it extends from part base-command, which is defined in file config/base.cfg
########
[htpasswd-user-file]
<= base-command
# the default location file file htpasswd.
# it will be generate by using Apache HTTPD server's tool htpasswd.
#   $ sudo aptitude install apache2-utils
#   $ cd etc
#   $ htpasswd -c htpasswd username
htpasswd-file = ${buildout:directory}/etc/htpasswd
user-one = user1 password1
user-two = user2 password2
cmds =
    touch ${:htpasswd-file}
    htpasswd -b ${:htpasswd-file} ${:user-one} 
    htpasswd -b ${:htpasswd-file} ${:user-two}
